<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Анимация "САНСАД" (без интерактивности)</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      overflow: hidden;
      width: 100%;
      height: 100%;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');

  // Подгоняем размер canvas под окно браузера и пересоздаем частицы
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    createTextParticles();
  }
  window.addEventListener('resize', resize);
  resize();

  let particles = [];

  // Создаем offscreen холст для отрисовки текста
  const offCanvas = document.createElement('canvas');
  const offCtx = offCanvas.getContext('2d');

  function createTextParticles() {
    offCanvas.width = canvas.width;
    offCanvas.height = canvas.height;
    offCtx.clearRect(0, 0, offCanvas.width, offCanvas.height);
    
    // Заполняем offscreen холст черным фоном
    offCtx.fillStyle = 'black';
    offCtx.fillRect(0, 0, offCanvas.width, offCanvas.height);
    
    // Рисуем слово «САНСАД» белым шрифтом
    offCtx.fillStyle = 'white';
    offCtx.textAlign = 'center';
    offCtx.textBaseline = 'middle';
    const fontSize = Math.min(canvas.width, canvas.height) / 5;
    offCtx.font = `bold ${fontSize}px sans-serif`;
    offCtx.fillText('САНСАД', offCanvas.width / 2, offCanvas.height / 2);
    
    // Извлекаем данные пикселей
    const imageData = offCtx.getImageData(0, 0, offCanvas.width, offCanvas.height);
    const data = imageData.data;
    particles = [];
    const gap = 4; // шаг выборки пикселей (чем меньше – тем плотнее частицы)

    for (let y = 0; y < offCanvas.height; y += gap) {
      for (let x = 0; x < offCanvas.width; x += gap) {
        const index = (y * offCanvas.width + x) * 4;
        const r = data[index]; // для белого текста значение r близко к 255
        if (r > 200) { // учитываем антиалиасинг
          particles.push({
            // Начальные координаты с небольшим разбросом для эффекта "взлета"
            x: x + Math.random() * 10 - 5,
            y: y + Math.random() * 10 - 5,
            tx: x,
            ty: y,
            vx: 0,
            vy: 0
          });
        }
      }
    }
    console.log("Количество частиц:", particles.length);
  }

  // Изначальное создание частиц по тексту
  createTextParticles();

  // Параметры анимации
  const springStrength = 0.05;  // сила притяжения к целевой позиции
  const friction = 0.90;        // коэффициент замедления
  let t = 0;                    // счетчик времени для эффекта мерцания

  function animate() {
    // Очищаем холст, заливая его черным
    ctx.fillStyle = 'black';
   

